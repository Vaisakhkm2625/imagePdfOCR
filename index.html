<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title></title>
        <link href="style.css" rel="stylesheet">


    </head>

    <body>

        <header>
            <h1 class="title">Img2Pdf</h1>
        </header>
        <main>
            <section class="container">
                <div id="controls">
                    <div id="drop_zone">
                        <div>
                            <snap class="drop_zone_text">Drag'nDrop Your Images Here</snap>
                        </div>
                        <input type="file" id="imageInput" multiple accept="image/*" style="display:none;">
                    </div>

                    <div id="controls_side">
                        <button id="convert" class="button"> Convert to PDF </button>

                        <span> upload images and press convert button
                        it will combine images provides OCR enabled pdf file </span>

                    </div>
                </div>
            </section>

            <section  class="container">
                <div id="preview">

                </div>

            </section>
        </main>

        <script>


        drop_zone.addEventListener("dragover",(e)=> {
            e.preventDefault();
            drop_zone.classList.add("dragover");
        })

        drop_zone.addEventListener("dragleave",(e)=> {
            e.preventDefault();
            drop_zone.classList.remove("dragover")
        })


        drop_zone.addEventListener("click",(e)=> {
            imageInput.click();
        })

        imageInput.addEventListener("change", (e)=>{
            handleFile(e.target.files);

        })

        drop_zone.addEventListener("drop",(e)=> {
            e.preventDefault();
            drop_zone.classList.remove("dragover")

            console.log(e.dataTransfer.files)
            handleFile(e.dataTransfer.files);
        })

        selectedFiles = []


        function handleFile(files) {
            for (const file of files) {
                console.log(file)

                if (file.type.startsWith("image/")) {
                    selectedFiles.push(file);

                    const img = document.createElement("img");
                    img.src = URL.createObjectURL(file);
                    img.classList.add("preview-img");
                    preview.appendChild(img);
                }
            }
        }

        </script>

    </body>
</html>
